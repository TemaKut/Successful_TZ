# Кутузов Артём (@TemaCu)

# Запуск проекта
1. В терминале, находясь в корневой директории проекта выполнить команду "docker-compose up -d"

Проект будет доступен по адресу http://localhost:8000/

# Эндпоинты:
1. http://localhost:8000/api/v1/csv/save/ 
Этот эндпоинт на вход принимает ОДИН файл .csv из формы в соответствии с полями из примера. Далее в случае ошибки выбрасывает ошибку 400, а иначе сохраняет в БД, где данные разбиваются на 2 связанные таблички 1 - File, где есть название файла и связанные строки в нём, которые находятся в таблице Deal. (Связь от File к Deal - один ко многим)

2. http://localhost:8000/api/v1/csv/top-five/<Тут пишем название файла, включая расширение>/
Этот эндпоинт берёт топ 5 клиентов, которые больше заплатили, далее добавляет сумму их затрат и камни, что есть как минимум у двух из этой пятёрки.

# Личные комментарии
1. Написал приложение без тестов, так как известен заранее небольшой объём + каждый эндпоинт тестировался вручную, при написании и на валидации после билда в докер композ.
2. Допускается написание с БД PostgreSQL, но оставил sqlite, из соображений расхода памяти и времени при билде. Если потребовалось бы установить Postgres: В докер-композ устанавливаем соответствующий сервис с указанием переменных окружения и изображением, далее в коде Django устанавливаем в settings.py соответствующую информацию о сервере PostgereSQL, попутно придерживаясь конфиденциальности данных при помощи .env
3. В приложении не уделено должного внимания сохранности данных в .env так как приложение слишком мало и не несёт секретной информации. Вместо этого приведён пример с пробросом секретного ключа приложения через переменные окружения Docker-Compose (SECRET_KEY)